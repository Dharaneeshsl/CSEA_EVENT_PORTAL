/* Stranger Things 1:1 Replica Title Sequence */

.stranger-things-intro {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: #000000;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  animation: fadeOutPortal 1s ease-out 9s forwards;
}

/* Film Grain */
.film-grain {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuOSIgbnVtT2N0YXZlcz0iNCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbHRlcj0idXJsKCNub2lzZSkiIG9wYWNpdHk9IjAuMDMiLz48L3N2Zz4=');
  opacity: 0.15;
  pointer-events: none;
  animation: grainMove 0.3s steps(8) infinite;
  mix-blend-mode: overlay;
  z-index: 1;
}

@keyframes grainMove {
  0% { transform: translate(0, 0); }
  10% { transform: translate(-3%, -5%); }
  20% { transform: translate(-8%, 3%); }
  30% { transform: translate(4%, -12%); }
  40% { transform: translate(-2%, 12%); }
  50% { transform: translate(-8%, 5%); }
  60% { transform: translate(8%, 0); }
  70% { transform: translate(0, 8%); }
  80% { transform: translate(2%, 18%); }
  90% { transform: translate(-5%, -3%); }
  100% { transform: translate(3%, 0); }
}

/* Fog/Mist Layer - Dark red matching text color */
.fog-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at 40% 50%,
    rgba(139, 0, 0, 0.08) 0%,
    rgba(139, 0, 0, 0.05) 40%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 2;
  animation: fogDrift 12s ease-in-out infinite;
  mix-blend-mode: screen;
}

@keyframes fogDrift {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.8;
  }
  33% {
    transform: translate(40px, -20px) scale(1.15);
    opacity: 1;
  }
  66% {
    transform: translate(-30px, 25px) scale(1.08);
    opacity: 0.9;
  }
}

/* Vignette */
.vignette-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 50%,
    rgba(0, 0, 0, 0.3) 75%,
    rgba(0, 0, 0, 0.6) 100%
  );
  pointer-events: none;
  z-index: 3;
}

/* Chromatic Aberration */
.chromatic-aberration {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 4;
  opacity: 0;
  animation: chromaticFlicker 0.1s ease-out 8s forwards;
}

.chromatic-aberration::before {
  content: '';
  position: absolute;
  top: 0;
  left: -2px;
  width: 100%;
  height: 100%;
  background: rgba(255, 0, 0, 0.3);
  mix-blend-mode: screen;
}

.chromatic-aberration::after {
  content: '';
  position: absolute;
  top: 0;
  left: 2px;
  width: 100%;
  height: 100%;
  background: rgba(0, 150, 255, 0.3);
  mix-blend-mode: screen;
}

@keyframes chromaticFlicker {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 0.6;
  }
}

/* Main Container */
.intro-container {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  /* Camera zooms forward during fade-in, then tracks to O - smooth constant motion */
  animation: cameraZoomToO 10s linear forwards;
  /* Transform origin starts at center, moves to O's position */
  transform-origin: center center;
}

/* Camera Motion: Smooth constant slow zoom, rotate 180deg, and track to O in PORTAL */
/* Text fades in 0-1s, camera stays still, then smooth constant motion to O */
/* Camera rotates 180deg slowly to simulate entering upside down - text stays upright */
@keyframes cameraZoomToO {
  0% {
    transform: scale(1) translate(0, 0) rotate(0deg);
    filter: blur(2px);
  }
  /* Text fade-in complete (1s) - wait for text to be fully visible, stay still */
  10% {
    transform: scale(1) translate(0, 0) rotate(0deg);
    filter: blur(2px);
  }
  /* Start very slow smooth zoom - constant motion begins smoothly */
  12% {
    transform: scale(1.02) translate(-2%, 0.5%) rotate(1deg);
    filter: blur(1.95px);
  }
  /* Smooth constant motion - gradually zooming, rotating, and tracking to O */
  16% {
    transform: scale(1.08) translate(-3.5%, 1%) rotate(3deg);
    filter: blur(1.85px);
  }
  20% {
    transform: scale(1.15) translate(-6%, 1.5%) rotate(6deg);
    filter: blur(1.7px);
  }
  24% {
    transform: scale(1.25) translate(-7.5%, 2%) rotate(10deg);
    filter: blur(1.6px);
  }
  /* Continue smooth zoom toward O */
  30% {
    transform: scale(1.4) translate(-10%, 2.5%) rotate(18deg);
    filter: blur(1.4px);
  }
  36% {
    transform: scale(1.6) translate(-11.5%, 3%) rotate(25deg);
    filter: blur(1.3px);
  }
  /* Keep moving smoothly */
  40% {
    transform: scale(1.8) translate(-13%, 3.5%) rotate(30deg);
    filter: blur(1.2px);
  }
  44% {
    transform: scale(2) translate(-14.5%, 3.8%) rotate(36deg);
    filter: blur(1.1px);
  }
  /* Smooth constant motion */
  50% {
    transform: scale(2.3) translate(-16%, 4%) rotate(45deg);
    filter: blur(1px);
  }
  54% {
    transform: scale(2.6) translate(-17%, 4.2%) rotate(54deg);
    filter: blur(0.95px);
  }
  /* Getting closer to O */
  60% {
    transform: scale(3) translate(-18%, 4.5%) rotate(65deg);
    filter: blur(0.8px);
  }
  64% {
    transform: scale(3.5) translate(-19%, 4.7%) rotate(72deg);
    filter: blur(0.75px);
  }
  /* Smooth zoom continues */
  70% {
    transform: scale(4.5) translate(-20%, 5%) rotate(90deg);
    filter: blur(0.6px);
  }
  74% {
    transform: scale(5.5) translate(-20.5%, 5.2%) rotate(100deg);
    filter: blur(0.5px);
  }
  /* Focus on O - smooth zoom into O's center (O is 2nd letter in PORTAL with left spacing) */
  80% {
    transform: scale(7) translate(-22%, 6%) rotate(130deg);
    filter: blur(0.3px);
  }
  84% {
    transform: scale(9) translate(-22%, 6%) rotate(150deg);
    filter: blur(0.2px);
  }
  /* Maximum zoom into O - still smooth */
  90% {
    transform: scale(12) translate(-22%, 6%) rotate(170deg);
    filter: blur(0.1px);
  }
  94% {
    transform: scale(15) translate(-22%, 6%) rotate(178deg);
    filter: blur(0.05px);
  }
  /* Portal transition - enter through O - complete 180 rotation */
  100% {
    transform: scale(20) translate(-22%, 6%) rotate(180deg);
    filter: blur(0px);
  }
}

.text-content {
  position: relative;
  text-align: center;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3em; /* Space between CSEA EVENT and PORTAL - more spacing */
  /* Counter-rotate text to stay upright while camera rotates 180deg */
  animation: counterRotateText 10s linear forwards;
}

/* Counter-rotate text to keep it upright as camera rotates */
@keyframes counterRotateText {
  0% {
    transform: rotate(0deg);
  }
  10% {
    transform: rotate(0deg);
  }
  12% {
    transform: rotate(-1deg);
  }
  16% {
    transform: rotate(-3deg);
  }
  20% {
    transform: rotate(-6deg);
  }
  24% {
    transform: rotate(-10deg);
  }
  30% {
    transform: rotate(-18deg);
  }
  36% {
    transform: rotate(-25deg);
  }
  40% {
    transform: rotate(-30deg);
  }
  44% {
    transform: rotate(-36deg);
  }
  50% {
    transform: rotate(-45deg);
  }
  54% {
    transform: rotate(-54deg);
  }
  60% {
    transform: rotate(-65deg);
  }
  64% {
    transform: rotate(-72deg);
  }
  70% {
    transform: rotate(-90deg);
  }
  74% {
    transform: rotate(-100deg);
  }
  80% {
    transform: rotate(-130deg);
  }
  84% {
    transform: rotate(-150deg);
  }
  90% {
    transform: rotate(-170deg);
  }
  94% {
    transform: rotate(-178deg);
  }
  100% {
    transform: rotate(-180deg);
  }
}

/* Removed - now handled by cameraZoomToO */

/* Text Lines */
.text-line {
  display: block;
  white-space: nowrap;
  margin: 0;
  line-height: 1.15;
  text-align: center;
  width: 100%;
}

/* Top line: CSEA EVENT - First line, centered */
.text-top {
  font-family: 'Cinzel', serif;
  font-size: 4.5vw;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.22em;
  color: #8b0000; /* Dark red matching Stranger Things */
  animation: textFadeIn 1s ease-in 0s forwards;
  opacity: 0;
  display: block;
  text-align: center;
  white-space: nowrap;
  line-height: 1.2;
}

/* Bottom line: PORTAL - Second line, with left spacing */
.text-bottom {
  font-family: 'Cinzel', serif;
  font-size: 9vw;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.22em;
  color: #8b0000; /* Dark red matching Stranger Things */
  animation: textFadeIn 1s ease-in 0s forwards;
  opacity: 0;
  display: block;
  text-align: center;
  white-space: nowrap;
  line-height: 1.2;
  padding-left: 2.5em; /* Left spacing for PORTAL */
  margin-left: 1em; /* Additional left margin */
}

/* Individual Letters */
.letter {
  display: inline-block;
  color: #8b0000; /* Dark red matching Stranger Things */
  animation: letterBuildIn 0.8s cubic-bezier(0.45, 0, 0.25, 1) both;
  opacity: 0;
}

.letter-spacer {
  display: inline-block;
  width: 0.3em;
}

/* Letter Build-In (1-3s: alternating left/right, 80ms stagger, overshoot easing) */
.letter[data-direction="left"] {
  --start-x: -50px;
  --overshoot: 8px;
  --bounce: -4px;
}

.letter[data-direction="right"] {
  --start-x: 50px;
  --overshoot: -8px;
  --bounce: 4px;
}

/* Stagger delays - 80ms per letter */
.letter[data-index="0"] { animation-delay: 1s; }
.letter[data-index="1"] { animation-delay: 1.08s; }
.letter[data-index="2"] { animation-delay: 1.16s; }
.letter[data-index="3"] { animation-delay: 1.24s; }
.letter[data-index="4"] { animation-delay: 1.32s; }
.letter[data-index="5"] { animation-delay: 1.4s; }
.letter[data-index="6"] { animation-delay: 1.48s; }
.letter[data-index="7"] { animation-delay: 1.56s; }
.letter[data-index="8"] { animation-delay: 1.64s; }
.letter[data-index="9"] { animation-delay: 1.72s; }
.letter[data-index="10"] { animation-delay: 1.8s; }
.letter[data-index="11"] { animation-delay: 1.88s; }
.letter[data-index="12"] { animation-delay: 1.96s; }
.letter[data-index="13"] { animation-delay: 2.04s; }
.letter[data-index="14"] { animation-delay: 2.12s; }

@keyframes letterBuildIn {
  0% {
    opacity: 0;
    filter: blur(4px);
    transform: translateX(var(--start-x, 0));
  }
  60% {
    /* Overshoot - opposite direction bounce */
    transform: translateX(var(--overshoot, 5px));
    opacity: 0.8;
  }
  80% {
    transform: translateX(var(--bounce, -3px));
    opacity: 0.95;
  }
  100% {
    opacity: 1;
    transform: translateX(0);
    filter: blur(0px);
  }
}

/* Text Fade In (0-1s) */
@keyframes textFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Color remains Netflix red throughout */

/* Multi-layer Glow */

/* Outer Glow - Soft Red Aura (Dark red matching text) */
.glow-outer {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 85%;
  height: 85%;
  transform: translate(-50%, -50%);
  background: radial-gradient(
    ellipse at center,
    rgba(139, 0, 0, 0.3) 0%,
    rgba(139, 0, 0, 0.2) 25%,
    rgba(139, 0, 0, 0.1) 40%,
    transparent 70%
  );
  pointer-events: none;
  z-index: -1;
  filter: blur(50px);
}

/* Inner Glow - Subtle rim (Dark red) */
.glow-inner {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 55%;
  height: 55%;
  transform: translate(-50%, -50%);
  background: radial-gradient(
    ellipse at center,
    rgba(139, 0, 0, 0.25) 0%,
    rgba(139, 0, 0, 0.18) 20%,
    rgba(139, 0, 0, 0.12) 40%,
    transparent 65%
  );
  pointer-events: none;
  z-index: -1;
  filter: blur(30px);
}

/* Lens Flare (3-5s: Drifts left-to-right) */
.lens-flare {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 800px;
  height: 800px;
  background: radial-gradient(
    ellipse at center,
    rgba(255, 150, 50, 0.15) 0%,
    rgba(255, 100, 50, 0.1) 15%,
    transparent 50%
  );
  transform: translate(-50%, -50%);
  pointer-events: none;
  opacity: 0;
  animation: flareDrift 2s ease-in-out 3s forwards,
             flareFadeOut 1s ease-out 5s forwards;
  z-index: 1;
  filter: blur(50px);
}

@keyframes flareDrift {
  0% {
    transform: translate(-50%, -50%) translateX(-200px);
    opacity: 0;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    transform: translate(-50%, -50%) translateX(200px);
    opacity: 0.6;
  }
}

@keyframes flareFadeOut {
  0% {
    opacity: 0.6;
  }
  100% {
    opacity: 0;
  }
}

/* Letter Reflections (faint mirror blur below baseline) */
.letter-reflections {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -45%);
  pointer-events: none;
  z-index: -1;
  opacity: 0.08;
}

.reflection-top,
.reflection-bottom {
  font-family: 'Cinzel', serif;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.22em;
  color: #8b0000; /* Dark red matching Stranger Things */
  transform: scaleY(-1);
  filter: blur(8px);
}

.reflection-top {
  font-size: 4.5vw;
  margin-bottom: 0.5em;
}

.reflection-bottom {
  font-size: 9vw;
}

/* Portal O - Special marker for portal entry (focal point) */
.portal-o {
  position: relative;
  z-index: 10;
  /* The O is the tracking target - camera zooms into this */
}

/* Portal Mask - O expands to fill screen (8.5-10s) 
   O position: After camera tracks to O (-22% left, +6% down), O is at screen center */
.portal-mask {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: #000000;
  z-index: 10001;
  /* After camera movement, O is centered at screen (50%, 50%) */
  clip-path: circle(0% at 50% 50%);
  animation: portalExpand 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 8.5s forwards;
  pointer-events: none;
  opacity: 1;
}

@keyframes portalExpand {
  0% {
    clip-path: circle(0% at 50% 50%);
    opacity: 1;
  }
  20% {
    clip-path: circle(8% at 50% 50%);
    opacity: 1;
  }
  40% {
    clip-path: circle(25% at 50% 50%);
    opacity: 1;
  }
  60% {
    clip-path: circle(50% at 50% 50%);
    opacity: 1;
  }
  80% {
    clip-path: circle(100% at 50% 50%);
    opacity: 0.8;
  }
  100% {
    clip-path: circle(150% at 50% 50%);
    opacity: 0;
  }
}

/* Fade Out into Portal (9-10s) */
@keyframes fadeOutPortal {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
  90% {
    opacity: 0.3;
  }
  100% {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }
}

/* Responsive Design */
@media (max-width: 1024px) {
  .text-top {
    font-size: 6vw;
    top: -6vh;
  }
  .text-bottom {
    font-size: 11vw;
  }
  .reflection-top {
    font-size: 6vw;
  }
  .reflection-bottom {
    font-size: 11vw;
  }
}

@media (max-width: 768px) {
  .text-top {
    font-size: 7vw;
    top: -5vh;
    letter-spacing: 0.18em;
  }
  .text-bottom {
    font-size: 13vw;
    letter-spacing: 0.18em;
  }
}

@media (max-width: 480px) {
  .text-top {
    font-size: 9vw;
    top: -4vh;
  }
  .text-bottom {
    font-size: 15vw;
  }
  .film-grain {
    opacity: 0.1;
  }
}

